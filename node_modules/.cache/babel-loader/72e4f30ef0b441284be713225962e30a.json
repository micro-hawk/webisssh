{"remainingRequest":"/home/microhawk/github/webish/node_modules/thread-loader/dist/cjs.js!/home/microhawk/github/webish/node_modules/babel-loader/lib/index.js!/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/microhawk/github/webish/client/components/swaggerApiDoc/newServerForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/microhawk/github/webish/client/components/swaggerApiDoc/newServerForm.vue","mtime":1662182788537},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/thread-loader/dist/cjs.js","mtime":1662182844048},{"path":"/home/microhawk/github/webish/node_modules/babel-loader/lib/index.js","mtime":1662182845501},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js","mtime":1662182845851}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3U2VydmVyRm9ybScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBwcm90bzogJ2h0dHA6Ly8nLAogICAgICBlbmRwb2ludDogJzEyNy4wLjAuMTo4MDgwJywKICAgICAgZG9jUGF0aDogJy92Mi9hcGktZG9jcycsCiAgICAgIGlkOiBudWxsLAogICAgICB0ZXN0aW5nU2VydmVyOiBmYWxzZSwKICAgICAgc3RhdHVzOiAyLAogICAgICBlcnJvck1lc3NhZ2U6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdGVzdFNlcnZlcjogZnVuY3Rpb24gdGVzdFNlcnZlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudGVzdGluZ1NlcnZlciA9IHRydWU7CiAgICAgIHRoaXMuc3RhdHVzID0gMDsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N3YWdnZXIvZ2V0U2VydmVyQXBpRG9jJywgewogICAgICAgIHNlcnZlcjogewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgcHJvdG86IHRoaXMucHJvdG8sCiAgICAgICAgICBlbmRwb2ludDogdGhpcy5lbmRwb2ludCwKICAgICAgICAgIGRvY1BhdGg6IHRoaXMuZG9jUGF0aAogICAgICAgIH0sCiAgICAgICAgY2I6IGZ1bmN0aW9uIGNiKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLnN0YXR1cyA9IC0xOwogICAgICAgICAgICBfdGhpcy5lcnJvck1lc3NhZ2UgPSByZXMuZGF0YS5lcnJvck1lc3NhZ2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5zdGF0dXMgPSAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUNvbmZpZ0NhbGxiYWNrOiBmdW5jdGlvbiBzYXZlQ29uZmlnQ2FsbGJhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnT1BFTl9MT0FERVInLCBmYWxzZSk7CiAgICB9LAogICAgc2F2ZUNvbmZpZzogZnVuY3Rpb24gc2F2ZUNvbmZpZygpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdPUEVOX0xPQURFUicsIHRydWUpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc3dhZ2dlci9zYXZlU2VydmVyJywgewogICAgICAgIGRhdGE6IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIHByb3RvOiB0aGlzLnByb3RvLAogICAgICAgICAgZW5kcG9pbnQ6IHRoaXMuZW5kcG9pbnQsCiAgICAgICAgICBkb2NQYXRoOiB0aGlzLmRvY1BhdGgsCiAgICAgICAgICBpZDogdGhpcy5pZAogICAgICAgIH0sCiAgICAgICAgY2I6IHRoaXMuc2F2ZUNvbmZpZ0NhbGxiYWNrCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["newServerForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,SAFA;AAGA,MAAA,QAAA,EAAA,gBAHA;AAIA,MAAA,OAAA,EAAA,cAJA;AAKA,MAAA,EAAA,EAAA,IALA;AAMA,MAAA,aAAA,EAAA,KANA;AAOA,MAAA,MAAA,EAAA,CAPA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAAA,GAFA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,aAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,yBAAA,EAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,IADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,QAAA,EAAA,KAAA,QAHA;AAIA,UAAA,OAAA,EAAA,KAAA;AAJA,SADA;AAOA,QAAA,EAAA,EAAA,YAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,YAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,YAAA;AACA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,CAAA;AACA;AACA;AAdA,OAAA;AAgBA,KApBA;AAqBA,IAAA,kBArBA,gCAqBA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA;AACA,KAxBA;AAyBA,IAAA,UAzBA,wBAyBA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,oBAAA,EAAA;AACA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,IADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,QAAA,EAAA,KAAA,QAHA;AAIA,UAAA,OAAA,EAAA,KAAA,OAJA;AAKA,UAAA,EAAA,EAAA,KAAA;AALA,SADA;AAQA,QAAA,EAAA,EAAA,KAAA;AARA,OAAA;AAUA;AArCA;AAZA,CAAA","sourcesContent":["<template>\n  <form @submit.prevent>\n    <h2 class=\"tx-x-lg tx-light mb-3\">Add Your Server</h2>\n    <div class=\"p-input my-4\">\n      <input type=\"text\" class=\" block\" v-model=\"name\" title=\"Server Name\">\n      <label>Server Name</label>\n    </div>\n    <div class=\"v-center\">\n      <div class=\"p-input my-3\">\n        <select v-model=\"proto\">\n          <option value=\"http://\">HTTP</option>\n          <option value=\"https://\">HTTPS</option>\n        </select>\n        <label></label>\n      </div>\n      <div class=\"p-input my-3 ml-3\">\n        <input type=\"text\" v-model=\"endpoint\" title=\"Server Name\">\n        <label>Endpoint</label>\n      </div>\n      <div class=\"p-input my-3 ml-3 flex-grow\">\n        <input type=\"text\" v-model=\"docPath\" title=\"Server Name\">\n        <label>Api Doc Path</label>\n      </div>\n    </div>\n    <div class=\"v-center space-between tx-small my-2\">\n      <div class=\"flex\">\n        <p class=\"bold tx-light mr-1\">Server:</p>\n        <p class=\"tx-o2\">\n          {{proto + endpoint + docPath}}\n        </p>\n      </div>\n      <p \n        v-if=\"status !== 2\" class=\"status-chip pill tx-x-small px-3 mx-2 py-1 tx-white\"\n        :class=\"status === 1 ? 'bg-success' : status === -1 ? 'bg-alert' : 'bg-warning'\">\n        {{status === 1 ? \"Success\" : status === -1 ? \"Failed\" : \"Testing..\"}}\n      </p>\n    </div>\n    <div class=\"flex flex-end mt-5 tx-x-small\">\n      <p-btn color=\"lightBlue\" light class=\"mx-2\" @click=\"testServer\"> Test </p-btn>\n      <p-btn color=\"green\" class=\"mr-2\" light @click=\"saveConfig\">Save </p-btn>\n      <p-btn color=\"red\" light @click=\"$emit('close')\">Close </p-btn>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'newServerForm',\n  data: () => ({\n    name: '',\n    proto: 'http://',\n    endpoint: '127.0.0.1:8080',\n    docPath: '/v2/api-docs',\n    id: null,\n    testingServer: false,\n    status: 2,\n    errorMessage: ''\n  }),\n  methods: {\n    testServer () {\n      this.testingServer = true\n      this.status = 0\n      this.$store.dispatch('swagger/getServerApiDoc', {\n        server: {\n          name: this.name,\n          proto: this.proto,\n          endpoint: this.endpoint,\n          docPath: this.docPath\n        },\n        cb: (res) => {\n          if (res.data.error) {\n            this.status = -1\n            this.errorMessage = res.data.errorMessage\n          } else {\n            this.status = 1\n          }\n        }\n      })\n    },\n    saveConfigCallback () {\n      this.$emit('close')\n      this.$store.commit('OPEN_LOADER', false)\n    },\n    saveConfig () {\n      this.$store.commit('OPEN_LOADER', true)\n      this.$store.dispatch('swagger/saveServer', {\n        data: {\n          name: this.name,\n          proto: this.proto,\n          endpoint: this.endpoint,\n          docPath: this.docPath,\n          id: this.id\n        },\n        cb: this.saveConfigCallback\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nform {\n  padding: 20px;\n}\n</style>"],"sourceRoot":"client/components/swaggerApiDoc"}]}