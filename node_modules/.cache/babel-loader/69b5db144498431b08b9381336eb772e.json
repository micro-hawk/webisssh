{"remainingRequest":"/home/microhawk/github/webish/node_modules/thread-loader/dist/cjs.js!/home/microhawk/github/webish/node_modules/babel-loader/lib/index.js!/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/microhawk/github/webish/client/components/swaggerApiDoc/serverCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/microhawk/github/webish/client/components/swaggerApiDoc/serverCard.vue","mtime":1662182788537},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/thread-loader/dist/cjs.js","mtime":1662182844048},{"path":"/home/microhawk/github/webish/node_modules/babel-loader/lib/index.js","mtime":1662182845501},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js","mtime":1662182845851}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbmV3U2VydmVyRm9ybSBmcm9tICcuL25ld1NlcnZlckZvcm0udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIG5ld1NlcnZlckZvcm06IG5ld1NlcnZlckZvcm0KICB9LAogIHByb3BzOiB7CiAgICBzZXJ2ZXI6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG92ZXJsYXk6IGZhbHNlLAogICAgICBzdGF0dXM6IDIsCiAgICAgIGVycm9yTWVzc2FnZTogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZG9jUGF0aDogZnVuY3Rpb24gZG9jUGF0aCgpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLnNlcnZlci5wcm90bykuY29uY2F0KHRoaXMuc2VydmVyLmVuZHBvaW50KS5jb25jYXQodGhpcy5zZXJ2ZXIuZG9jUGF0aCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoZWFsdGhDaGVjazogZnVuY3Rpb24gaGVhbHRoQ2hlY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnN0YXR1cyA9IDA7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzd2FnZ2VyL2dldFNlcnZlckFwaURvYycsIHsKICAgICAgICBzZXJ2ZXI6IHsKICAgICAgICAgIG5hbWU6IHRoaXMuc2VydmVyLm5hbWUsCiAgICAgICAgICBwcm90bzogdGhpcy5zZXJ2ZXIucHJvdG8sCiAgICAgICAgICBlbmRwb2ludDogdGhpcy5zZXJ2ZXIuZW5kcG9pbnQsCiAgICAgICAgICBkb2NQYXRoOiB0aGlzLnNlcnZlci5kb2NQYXRoCiAgICAgICAgfSwKICAgICAgICBjYjogZnVuY3Rpb24gY2IocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gLTE7CiAgICAgICAgICAgIF90aGlzLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhLmVycm9yTWVzc2FnZS5tZXNzYWdlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuc3RhdHVzID0gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVNlcnZlcjogZnVuY3Rpb24gZGVsZXRlU2VydmVyKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc3dhZ2dlci9kZWxldGVTZXJ2ZXInLCB7CiAgICAgICAgaWQ6IHRoaXMuc2VydmVyLmlkCiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRTZXJ2ZXI6IGZ1bmN0aW9uIGVkaXRTZXJ2ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5vdmVybGF5ID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGZvcm0gPSBfdGhpczIuJHJlZnMuc2VydmVyRm9ybTsKICAgICAgICBmb3JtLm5hbWUgPSBfdGhpczIuc2VydmVyLm5hbWU7CiAgICAgICAgZm9ybS5wcm90byA9IF90aGlzMi5zZXJ2ZXIucHJvdG87CiAgICAgICAgZm9ybS5lbmRwb2ludCA9IF90aGlzMi5zZXJ2ZXIuZW5kcG9pbnQ7CiAgICAgICAgZm9ybS5kb2NQYXRoID0gX3RoaXMyLnNlcnZlci5kb2NQYXRoOwogICAgICAgIGZvcm0uaWQgPSBfdGhpczIuc2VydmVyLmlkOwogICAgICB9LCA1MDApOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaGVhbHRoQ2hlY2soKTsKICB9Cn07"},{"version":3,"sources":["serverCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,aAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,aAAA,EAAA;AAAA,GADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA,MAAA,YAAA,EAAA;AAHA,KAAA;AAAA,GALA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,uBAAA,KAAA,MAAA,CAAA,KAAA,SAAA,KAAA,MAAA,CAAA,QAAA,SAAA,KAAA,MAAA,CAAA,OAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,MAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,yBAAA,EAAA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,MAAA,CAAA,IADA;AAEA,UAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAFA;AAGA,UAAA,QAAA,EAAA,KAAA,MAAA,CAAA,QAHA;AAIA,UAAA,OAAA,EAAA,KAAA,MAAA,CAAA;AAJA,SADA;AAOA,QAAA,EAAA,EAAA,YAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,YAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,YAAA,CAAA,OAAA;AACA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,CAAA;AACA;AACA;AAdA,OAAA;AAgBA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,sBAAA,EAAA;AACA,QAAA,EAAA,EAAA,KAAA,MAAA,CAAA;AADA,OAAA;AAGA,KAxBA;AAyBA,IAAA,UAzBA,wBAyBA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,KAAA,CAAA,UAAA;AACA,QAAA,IAAA,CAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AACA,QAAA,IAAA,CAAA,KAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AACA,QAAA,IAAA,CAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,QAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA;AACA,QAAA,IAAA,CAAA,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,OAPA,EAOA,GAPA,CAAA;AAQA;AAnCA,GAfA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,WAAA;AACA;AAtDA,CAAA","sourcesContent":["<template>\n  <div class=\"server-card flex space-between m-4 bg-ele-1 p-5\">\n    <div class=\"pt-4\">\n      <h2 class=\"tx-x-lg tx-n tx-ellipsis\" :title=\"server.name\">{{server.name}}</h2>\n      <a :href=\"docPath\" target=\"_blank\" class=\"tx-light tx-small py-3 block tx-line-break\"> {{docPath}}</a>\n    </div>\n    <div class=\"flex flex-end\">\n      <button v-tooltip.bottom-start=\"'Health Check'\" class=\"fa fa-heartbeat tx-o2\" @click=\"healthCheck\"></button>\n      <button v-tooltip.bottom-end=\"'Edit'\" class=\"fa fa-edit tx-success\" @click=\"editServer\"></button>\n      <button v-tooltip.bottom-end=\"'Delete'\" class=\"fa fa-trash tx-alert\" @click=\"deleteServer\"></button>\n    </div>\n    <p\n      v-tooltip.bottom-end=\"status === 1 ? 'Success' : status === -1 ? errorMessage : 'Testing..'\"\n      v-if=\"status !== 2\"\n      class=\"status-chip pill tx-x-small px-3 mx-2 py-1 tx-white pointer\"\n      :class=\"status === 1 ? 'bg-success' : status === -1 ? 'bg-alert' : 'bg-warning'\">\n        {{status === 1 ? \"Success\" : status === -1 ? \"Failed\" : \"Testing..\"}}\n      </p>\n    <div class=\"overlay\" v-if=\"overlay\">\n      <new-server-form @close=\"overlay = false\" ref=\"serverForm\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport newServerForm from './newServerForm.vue'\nexport default {\n  components: { newServerForm },\n  props: {\n    server: Object\n  },\n  data: () => ({\n    overlay: false,\n    status: 2,\n    errorMessage: '',\n  }),\n  computed: {\n    docPath () {\n      return `${this.server.proto}${this.server.endpoint}${this.server.docPath}`\n    }\n  },\n  methods: {\n    healthCheck () {\n      this.status = 0\n      this.$store.dispatch('swagger/getServerApiDoc', {\n        server: {\n          name: this.server.name,\n          proto: this.server.proto,\n          endpoint: this.server.endpoint,\n          docPath: this.server.docPath\n        },\n        cb: (res) => {\n          if (res.data.error) {\n            this.status = -1\n            this.errorMessage = res.data.errorMessage.message\n          } else {\n            this.status = 1\n          }\n        }\n      })\n    },\n    deleteServer () {\n      this.$store.dispatch('swagger/deleteServer', {\n        id: this.server.id\n      })\n    },\n    editServer () {\n      this.overlay = true\n      setTimeout(() => {\n        const form = this.$refs.serverForm\n        form.name = this.server.name\n        form.proto = this.server.proto\n        form.endpoint = this.server.endpoint\n        form.docPath = this.server.docPath\n        form.id = this.server.id\n      }, 500)\n    }\n  },\n  created () {\n    this.healthCheck()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '../../assets/scss/vars.scss';\n\n.server-card {\n  position: relative;\n  flex-direction: column;\n  width: calc(25% - 32px);\n  height: 250px;\n  min-width: 200px;\n  border-radius: 8px;\n  button.fa {\n    border: 0px solid;\n    font-size: 16px;\n    height: 30px;\n    width: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: transparent;\n    border-radius: 50%;\n    margin: 5px;\n    box-shadow: 2px 2px 4px rgb(126, 123, 123);\n  }\n  .status-chip {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n  }\n}\n</style>"],"sourceRoot":"client/components/swaggerApiDoc"}]}