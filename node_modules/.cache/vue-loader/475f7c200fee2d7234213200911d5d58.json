{"remainingRequest":"/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/microhawk/github/webish/client/components/swaggerApiDoc/newServerForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/microhawk/github/webish/client/components/swaggerApiDoc/newServerForm.vue","mtime":1662182788537},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/thread-loader/dist/cjs.js","mtime":1662182844048},{"path":"/home/microhawk/github/webish/node_modules/babel-loader/lib/index.js","mtime":1662182845501},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js","mtime":1662182845851}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3U2VydmVyRm9ybScsCiAgZGF0YTogKCkgPT4gKHsKICAgIG5hbWU6ICcnLAogICAgcHJvdG86ICdodHRwOi8vJywKICAgIGVuZHBvaW50OiAnMTI3LjAuMC4xOjgwODAnLAogICAgZG9jUGF0aDogJy92Mi9hcGktZG9jcycsCiAgICBpZDogbnVsbCwKICAgIHRlc3RpbmdTZXJ2ZXI6IGZhbHNlLAogICAgc3RhdHVzOiAyLAogICAgZXJyb3JNZXNzYWdlOiAnJwogIH0pLAogIG1ldGhvZHM6IHsKICAgIHRlc3RTZXJ2ZXIgKCkgewogICAgICB0aGlzLnRlc3RpbmdTZXJ2ZXIgPSB0cnVlCiAgICAgIHRoaXMuc3RhdHVzID0gMAogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc3dhZ2dlci9nZXRTZXJ2ZXJBcGlEb2MnLCB7CiAgICAgICAgc2VydmVyOiB7CiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBwcm90bzogdGhpcy5wcm90bywKICAgICAgICAgIGVuZHBvaW50OiB0aGlzLmVuZHBvaW50LAogICAgICAgICAgZG9jUGF0aDogdGhpcy5kb2NQYXRoCiAgICAgICAgfSwKICAgICAgICBjYjogKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gLTEKICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSByZXMuZGF0YS5lcnJvck1lc3NhZ2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gMQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzYXZlQ29uZmlnQ2FsbGJhY2sgKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnT1BFTl9MT0FERVInLCBmYWxzZSkKICAgIH0sCiAgICBzYXZlQ29uZmlnICgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdPUEVOX0xPQURFUicsIHRydWUpCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzd2FnZ2VyL3NhdmVTZXJ2ZXInLCB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgcHJvdG86IHRoaXMucHJvdG8sCiAgICAgICAgICBlbmRwb2ludDogdGhpcy5lbmRwb2ludCwKICAgICAgICAgIGRvY1BhdGg6IHRoaXMuZG9jUGF0aCwKICAgICAgICAgIGlkOiB0aGlzLmlkCiAgICAgICAgfSwKICAgICAgICBjYjogdGhpcy5zYXZlQ29uZmlnQ2FsbGJhY2sKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["newServerForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newServerForm.vue","sourceRoot":"client/components/swaggerApiDoc","sourcesContent":["<template>\n  <form @submit.prevent>\n    <h2 class=\"tx-x-lg tx-light mb-3\">Add Your Server</h2>\n    <div class=\"p-input my-4\">\n      <input type=\"text\" class=\" block\" v-model=\"name\" title=\"Server Name\">\n      <label>Server Name</label>\n    </div>\n    <div class=\"v-center\">\n      <div class=\"p-input my-3\">\n        <select v-model=\"proto\">\n          <option value=\"http://\">HTTP</option>\n          <option value=\"https://\">HTTPS</option>\n        </select>\n        <label></label>\n      </div>\n      <div class=\"p-input my-3 ml-3\">\n        <input type=\"text\" v-model=\"endpoint\" title=\"Server Name\">\n        <label>Endpoint</label>\n      </div>\n      <div class=\"p-input my-3 ml-3 flex-grow\">\n        <input type=\"text\" v-model=\"docPath\" title=\"Server Name\">\n        <label>Api Doc Path</label>\n      </div>\n    </div>\n    <div class=\"v-center space-between tx-small my-2\">\n      <div class=\"flex\">\n        <p class=\"bold tx-light mr-1\">Server:</p>\n        <p class=\"tx-o2\">\n          {{proto + endpoint + docPath}}\n        </p>\n      </div>\n      <p \n        v-if=\"status !== 2\" class=\"status-chip pill tx-x-small px-3 mx-2 py-1 tx-white\"\n        :class=\"status === 1 ? 'bg-success' : status === -1 ? 'bg-alert' : 'bg-warning'\">\n        {{status === 1 ? \"Success\" : status === -1 ? \"Failed\" : \"Testing..\"}}\n      </p>\n    </div>\n    <div class=\"flex flex-end mt-5 tx-x-small\">\n      <p-btn color=\"lightBlue\" light class=\"mx-2\" @click=\"testServer\"> Test </p-btn>\n      <p-btn color=\"green\" class=\"mr-2\" light @click=\"saveConfig\">Save </p-btn>\n      <p-btn color=\"red\" light @click=\"$emit('close')\">Close </p-btn>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'newServerForm',\n  data: () => ({\n    name: '',\n    proto: 'http://',\n    endpoint: '127.0.0.1:8080',\n    docPath: '/v2/api-docs',\n    id: null,\n    testingServer: false,\n    status: 2,\n    errorMessage: ''\n  }),\n  methods: {\n    testServer () {\n      this.testingServer = true\n      this.status = 0\n      this.$store.dispatch('swagger/getServerApiDoc', {\n        server: {\n          name: this.name,\n          proto: this.proto,\n          endpoint: this.endpoint,\n          docPath: this.docPath\n        },\n        cb: (res) => {\n          if (res.data.error) {\n            this.status = -1\n            this.errorMessage = res.data.errorMessage\n          } else {\n            this.status = 1\n          }\n        }\n      })\n    },\n    saveConfigCallback () {\n      this.$emit('close')\n      this.$store.commit('OPEN_LOADER', false)\n    },\n    saveConfig () {\n      this.$store.commit('OPEN_LOADER', true)\n      this.$store.dispatch('swagger/saveServer', {\n        data: {\n          name: this.name,\n          proto: this.proto,\n          endpoint: this.endpoint,\n          docPath: this.docPath,\n          id: this.id\n        },\n        cb: this.saveConfigCallback\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nform {\n  padding: 20px;\n}\n</style>"]}]}