{"remainingRequest":"/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/microhawk/github/webish/client/components/swaggerApiDoc/serverCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/microhawk/github/webish/client/components/swaggerApiDoc/serverCard.vue","mtime":1662182788537},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/babel-loader/lib/index.js","mtime":1662182845501},{"path":"/home/microhawk/github/webish/node_modules/cache-loader/dist/cjs.js","mtime":1662182844115},{"path":"/home/microhawk/github/webish/node_modules/vue-loader/lib/index.js","mtime":1662182845851}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBuZXdTZXJ2ZXJGb3JtIGZyb20gJy4vbmV3U2VydmVyRm9ybS52dWUnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IG5ld1NlcnZlckZvcm0gfSwKICBwcm9wczogewogICAgc2VydmVyOiBPYmplY3QKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBvdmVybGF5OiBmYWxzZSwKICAgIHN0YXR1czogMiwKICAgIGVycm9yTWVzc2FnZTogJycsCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIGRvY1BhdGggKCkgewogICAgICByZXR1cm4gYCR7dGhpcy5zZXJ2ZXIucHJvdG99JHt0aGlzLnNlcnZlci5lbmRwb2ludH0ke3RoaXMuc2VydmVyLmRvY1BhdGh9YAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGVhbHRoQ2hlY2sgKCkgewogICAgICB0aGlzLnN0YXR1cyA9IDAKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N3YWdnZXIvZ2V0U2VydmVyQXBpRG9jJywgewogICAgICAgIHNlcnZlcjogewogICAgICAgICAgbmFtZTogdGhpcy5zZXJ2ZXIubmFtZSwKICAgICAgICAgIHByb3RvOiB0aGlzLnNlcnZlci5wcm90bywKICAgICAgICAgIGVuZHBvaW50OiB0aGlzLnNlcnZlci5lbmRwb2ludCwKICAgICAgICAgIGRvY1BhdGg6IHRoaXMuc2VydmVyLmRvY1BhdGgKICAgICAgICB9LAogICAgICAgIGNiOiAocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSAtMQogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IHJlcy5kYXRhLmVycm9yTWVzc2FnZS5tZXNzYWdlCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnN0YXR1cyA9IDEKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlU2VydmVyICgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N3YWdnZXIvZGVsZXRlU2VydmVyJywgewogICAgICAgIGlkOiB0aGlzLnNlcnZlci5pZAogICAgICB9KQogICAgfSwKICAgIGVkaXRTZXJ2ZXIgKCkgewogICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLiRyZWZzLnNlcnZlckZvcm0KICAgICAgICBmb3JtLm5hbWUgPSB0aGlzLnNlcnZlci5uYW1lCiAgICAgICAgZm9ybS5wcm90byA9IHRoaXMuc2VydmVyLnByb3RvCiAgICAgICAgZm9ybS5lbmRwb2ludCA9IHRoaXMuc2VydmVyLmVuZHBvaW50CiAgICAgICAgZm9ybS5kb2NQYXRoID0gdGhpcy5zZXJ2ZXIuZG9jUGF0aAogICAgICAgIGZvcm0uaWQgPSB0aGlzLnNlcnZlci5pZAogICAgICB9LCA1MDApCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuaGVhbHRoQ2hlY2soKQogIH0KfQo="},{"version":3,"sources":["serverCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"serverCard.vue","sourceRoot":"client/components/swaggerApiDoc","sourcesContent":["<template>\n  <div class=\"server-card flex space-between m-4 bg-ele-1 p-5\">\n    <div class=\"pt-4\">\n      <h2 class=\"tx-x-lg tx-n tx-ellipsis\" :title=\"server.name\">{{server.name}}</h2>\n      <a :href=\"docPath\" target=\"_blank\" class=\"tx-light tx-small py-3 block tx-line-break\"> {{docPath}}</a>\n    </div>\n    <div class=\"flex flex-end\">\n      <button v-tooltip.bottom-start=\"'Health Check'\" class=\"fa fa-heartbeat tx-o2\" @click=\"healthCheck\"></button>\n      <button v-tooltip.bottom-end=\"'Edit'\" class=\"fa fa-edit tx-success\" @click=\"editServer\"></button>\n      <button v-tooltip.bottom-end=\"'Delete'\" class=\"fa fa-trash tx-alert\" @click=\"deleteServer\"></button>\n    </div>\n    <p\n      v-tooltip.bottom-end=\"status === 1 ? 'Success' : status === -1 ? errorMessage : 'Testing..'\"\n      v-if=\"status !== 2\"\n      class=\"status-chip pill tx-x-small px-3 mx-2 py-1 tx-white pointer\"\n      :class=\"status === 1 ? 'bg-success' : status === -1 ? 'bg-alert' : 'bg-warning'\">\n        {{status === 1 ? \"Success\" : status === -1 ? \"Failed\" : \"Testing..\"}}\n      </p>\n    <div class=\"overlay\" v-if=\"overlay\">\n      <new-server-form @close=\"overlay = false\" ref=\"serverForm\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport newServerForm from './newServerForm.vue'\nexport default {\n  components: { newServerForm },\n  props: {\n    server: Object\n  },\n  data: () => ({\n    overlay: false,\n    status: 2,\n    errorMessage: '',\n  }),\n  computed: {\n    docPath () {\n      return `${this.server.proto}${this.server.endpoint}${this.server.docPath}`\n    }\n  },\n  methods: {\n    healthCheck () {\n      this.status = 0\n      this.$store.dispatch('swagger/getServerApiDoc', {\n        server: {\n          name: this.server.name,\n          proto: this.server.proto,\n          endpoint: this.server.endpoint,\n          docPath: this.server.docPath\n        },\n        cb: (res) => {\n          if (res.data.error) {\n            this.status = -1\n            this.errorMessage = res.data.errorMessage.message\n          } else {\n            this.status = 1\n          }\n        }\n      })\n    },\n    deleteServer () {\n      this.$store.dispatch('swagger/deleteServer', {\n        id: this.server.id\n      })\n    },\n    editServer () {\n      this.overlay = true\n      setTimeout(() => {\n        const form = this.$refs.serverForm\n        form.name = this.server.name\n        form.proto = this.server.proto\n        form.endpoint = this.server.endpoint\n        form.docPath = this.server.docPath\n        form.id = this.server.id\n      }, 500)\n    }\n  },\n  created () {\n    this.healthCheck()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '../../assets/scss/vars.scss';\n\n.server-card {\n  position: relative;\n  flex-direction: column;\n  width: calc(25% - 32px);\n  height: 250px;\n  min-width: 200px;\n  border-radius: 8px;\n  button.fa {\n    border: 0px solid;\n    font-size: 16px;\n    height: 30px;\n    width: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: transparent;\n    border-radius: 50%;\n    margin: 5px;\n    box-shadow: 2px 2px 4px rgb(126, 123, 123);\n  }\n  .status-chip {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n  }\n}\n</style>"]}]}